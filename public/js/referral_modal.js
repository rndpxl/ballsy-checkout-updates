!function(e){var t={};function o(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.m=e,o.c=t,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/",o(o.s=0)}([function(e,t,o){o(1),e.exports=o(2)},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,i,a,r,s,l=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},c=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),d=function(e){if(Array.isArray(e)){for(var t=0,o=Array(e.length);t<e.length;t++)o[t]=e[t];return o}return Array.from(e)},u=(n=["a[href]","area[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","button:not([disabled]):not([aria-hidden])","iframe","object","embed","[contenteditable]",'[tabindex]:not([tabindex^="-"])'],i=function(){function e(t){var o=t.targetModal,n=t.triggers,i=void 0===n?[]:n,a=t.onShow,r=void 0===a?function(){}:a,s=t.onClose,c=void 0===s?function(){}:s,u=t.openTrigger,f=void 0===u?"data-micromodal-trigger":u,h=t.closeTrigger,m=void 0===h?"data-micromodal-close":h,v=t.disableScroll,b=void 0!==v&&v,g=t.disableFocus,y=void 0!==g&&g,p=t.awaitCloseAnimation,w=void 0!==p&&p,k=t.debugMode,C=void 0!==k&&k;l(this,e),this.modal=document.getElementById(o),this.config={debugMode:C,disableScroll:b,openTrigger:f,closeTrigger:m,onShow:r,onClose:c,awaitCloseAnimation:w,disableFocus:y},i.length>0&&this.registerTriggers.apply(this,d(i)),this.onClick=this.onClick.bind(this),this.onKeydown=this.onKeydown.bind(this)}return c(e,[{key:"registerTriggers",value:function(){for(var e=this,t=arguments.length,o=Array(t),n=0;n<t;n++)o[n]=arguments[n];o.forEach(function(t){t.addEventListener("click",function(){return e.showModal()})})}},{key:"showModal",value:function(){this.activeElement=document.activeElement,this.modal.setAttribute("aria-hidden","false"),this.modal.classList.add("is-open"),this.setFocusToFirstNode(),this.scrollBehaviour("disable"),this.addEventListeners(),this.config.onShow(this.modal)}},{key:"closeModal",value:function(){var e=this.modal;this.modal.setAttribute("aria-hidden","true"),this.removeEventListeners(),this.scrollBehaviour("enable"),this.activeElement.focus(),this.config.onClose(this.modal),this.config.awaitCloseAnimation?this.modal.addEventListener("animationend",function t(){e.classList.remove("is-open"),e.removeEventListener("animationend",t,!1)},!1):e.classList.remove("is-open")}},{key:"scrollBehaviour",value:function(e){if(this.config.disableScroll){var t=document.querySelector("body");switch(e){case"enable":Object.assign(t.style,{overflow:"initial",height:"initial"});break;case"disable":Object.assign(t.style,{overflow:"hidden",height:"100vh"})}}}},{key:"addEventListeners",value:function(){this.modal.addEventListener("touchstart",this.onClick),this.modal.addEventListener("click",this.onClick),document.addEventListener("keydown",this.onKeydown)}},{key:"removeEventListeners",value:function(){this.modal.removeEventListener("touchstart",this.onClick),this.modal.removeEventListener("click",this.onClick),document.removeEventListener("keydown",this.onKeydown)}},{key:"onClick",value:function(e){e.target.hasAttribute(this.config.closeTrigger)&&(this.closeModal(),e.preventDefault())}},{key:"onKeydown",value:function(e){27===e.keyCode&&this.closeModal(e),9===e.keyCode&&this.maintainFocus(e)}},{key:"getFocusableNodes",value:function(){var e=this.modal.querySelectorAll(n);return Object.keys(e).map(function(t){return e[t]})}},{key:"setFocusToFirstNode",value:function(){if(!this.config.disableFocus){var e=this.getFocusableNodes();e.length&&e[0].focus()}}},{key:"maintainFocus",value:function(e){var t=this.getFocusableNodes();if(this.modal.contains(document.activeElement)){var o=t.indexOf(document.activeElement);e.shiftKey&&0===o&&(t[t.length-1].focus(),e.preventDefault()),e.shiftKey||o!==t.length-1||(t[0].focus(),e.preventDefault())}else t[0].focus()}}]),e}(),a=null,r=function(e){if(!document.getElementById(e))return console.warn("MicroModal v0.3.1: ❗Seems like you have missed %c'"+e+"'","background-color: #f8f9fa;color: #50596c;font-weight: bold;","ID somewhere in your code. Refer example below to resolve it."),console.warn("%cExample:","background-color: #f8f9fa;color: #50596c;font-weight: bold;",'<div class="modal" id="'+e+'"></div>'),!1},s=function(e,t){if(function(e){if(e.length<=0)console.warn("MicroModal v0.3.1: ❗Please specify at least one %c'micromodal-trigger'","background-color: #f8f9fa;color: #50596c;font-weight: bold;","data attribute."),console.warn("%cExample:","background-color: #f8f9fa;color: #50596c;font-weight: bold;",'<a href="#" data-micromodal-trigger="my-modal"></a>')}(e),!t)return!0;for(var o in t)r(o);return!0},{init:function(e){var t=Object.assign({},{openTrigger:"data-micromodal-trigger"},e),o=[].concat(d(document.querySelectorAll("["+t.openTrigger+"]"))),n=function(e,t){var o=[];return e.forEach(function(e){var n=e.attributes[t].value;void 0===o[n]&&(o[n]=[]),o[n].push(e)}),o}(o,t.openTrigger);if(!0!==t.debugMode||!1!==s(o,n))for(var a in n){var r=n[a];t.targetModal=a,t.triggers=[].concat(d(r)),new i(t)}},show:function(e,t){var o=t||{};o.targetModal=e,!0===o.debugMode&&!1===r(e)||(a=new i(o)).showModal()},close:function(){a.closeModal()}}),f=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}();var h=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return f(e,null,[{key:"showReferral",value:function(e){var t=this;u.init({awaitCloseAnimation:!0});var o="Friends, keep the funk off your junk! Click my link to buy and save $5 on your first purchase and I’ll get $5!";$("#share").jsSocials({showLabel:!1,showCount:!1,shareIn:"popup",text:o,url:e,shares:[{share:"facebook",logo:"fab fa-facebook-f"},{share:"twitter",logo:"fab fa-twitter"},{share:"email",logo:"far fa-envelope",shareUrl:"mailto:?subject="+encodeURI(o)+"&body="+encodeURI(o+"\n\n"+e)}]});var n=$("#modal-referral.micromodal");n.find(".copyable-text").html(e),n.find(".copy-btn").data("clipboard-text",e),$(document).on("click",".copy-btn",function(e){var o=$(e.target).data("clipboard-text");t.copyTextToClipBoard(e.target,o);var n=$(e.target);n.text("Copied!"),setTimeout(function(){n.text("Copy")},5e3)}),setTimeout(function(){u.show("modal-referral")},2475)}},{key:"showSignup",value:function(t,o){u.init({awaitCloseAnimation:!0});var n=$("#modal-signup");n.find(".copyable-text").html(o),n.find(".copy-btn").data("clipboard-text",o),n.find('[name="customer[email]"]').val(t);var i=n.find("#create_customer");n.find("#create_customer").on("submit",function(t){t.preventDefault(),n.find("button.action_button").attr("disabled","disabled"),n.find(".btn__content").css("opacity",0),n.find(".btn__spinner").css("opacity",1),$.post({url:"https://ballsy.blue-hat.tech/customer-activate",data:i.serialize(),success:function(t){console.log(t),t.status?(u.close("#modal-signup"),e.showConfirmation()):n.find(".errors").html(t.message),n.find(".btn__content").css("opacity",1),n.find(".btn__spinner").css("opacity",0),n.find("button.action_button").attr("disabled",!1)},error:function(e){n.find(".btn__content").css("opacity",1),n.find(".btn__spinner").css("opacity",0),n.find("button.action_button").attr("disabled",!1)}})}),setTimeout(function(){u.show("modal-signup")},2475)}},{key:"showConfirmation",value:function(){u.show("modal-signup-complete")}},{key:"copyTextToClipBoard",value:function(e,t){var o=document.createElement("textarea");o.value=t,e.insertBefore(o,null),o.select();var n=o.contentEditable,i=o.readOnly,a=document.createRange();o.contenteditable=!0,o.readonly=!1,a.selectNodeContents(o);var r=window.getSelection();r.removeAllRanges(),r.addRange(a),o.setSelectionRange(0,999999),o.contentEditable=n,o.readOnly=i,document.execCommand("copy"),e.removeChild(o)}}]),e}();window.ReferralModal=h},function(e,t){}]);